knitr::opts_chunk$set(echo = TRUE)
library(data.table)
####
#### ...variables definition...
FILE_RDS_W1_SIM_PROCESSED <- "C:/sc-sync/projects/proj-nlp/data/output/w1_sim_processed.rds"
data <- readRDS(FILE_RDS_W1_SIM_PROCESSED)
head(data)
head(data$ranking)
dim(data$ranking)
head(data$scores)
dim(data$scores)
plot(pressure)
head(data$ranking)
dim(data$ranking)
head(data$scores)
dim(data$scores)
hist(data$scores$first)
class(data$scores)
data$ranking <- as.data.frame(data$ranking)
data$scores <- as.data.frame(data$scores)
head(data$ranking)
dim(data$ranking)
head(data$scores)
dim(data$scores)
hist(data$scores$first)
hist(data$scores$second)
head(data$scores)
knitr::opts_chunk$set(echo = TRUE)
library(data.table)
####
#### ...variables definition...
FILE_RDS_W1_SIM_PROCESSED <- "C:/sc-sync/projects/proj-nlp/data/output/w1_sim_processed.rds"
data <- readRDS(FILE_RDS_W1_SIM_PROCESSED)
data$ranking <- as.data.frame(data$ranking)
data$scores <- as.data.frame(data$scores)
head(data$ranking)
dim(data$ranking)
head(data$scores)
dim(data$scores)
hist(data$scores$second)
head(data$ranking)
dim(data$ranking)
head(data$scores)
dim(data$scores)
dim(data$ranking[data$ranking$first == "1", ])
dim(data$ranking[data$ranking$second == "1", ])
dim(data$ranking[data$ranking$third == "1", ])
dim(data$ranking[data$ranking$fourth == "1", ])
dim(data$ranking[data$ranking$fifth == "1", ])
plot(
c(dim(data$ranking[data$ranking$first == "1", ])
, dim(data$ranking[data$ranking$second == "1", ])
, dim(data$ranking[data$ranking$third == "1", ])
, dim(data$ranking[data$ranking$fourth == "1", ])
, dim(data$ranking[data$ranking$fifth == "1", ]) ), seq(1:5) )
plot(
c(dim(data$ranking[data$ranking$first == "1", ])
, dim(data$ranking[data$ranking$second == "1", ])
, dim(data$ranking[data$ranking$third == "1", ])
, dim(data$ranking[data$ranking$fourth == "1", ])
, dim(data$ranking[data$ranking$fifth == "1", ]) ), 1:5 )
c(dim(data$ranking[data$ranking$first == "1", ])
, dim(data$ranking[data$ranking$second == "1", ])
, dim(data$ranking[data$ranking$third == "1", ])
, dim(data$ranking[data$ranking$fourth == "1", ])
, dim(data$ranking[data$ranking$fifth == "1", ]) )
plot(
c(nrow(data$ranking[data$ranking$first == "1", ])
, nrow(data$ranking[data$ranking$second == "1", ])
, nrow(data$ranking[data$ranking$third == "1", ])
, nrow(data$ranking[data$ranking$fourth == "1", ])
, nrow(data$ranking[data$ranking$fifth == "1", ]) ), 1:5 )
plot(1:5,
c(nrow(data$ranking[data$ranking$first == "1", ])
, nrow(data$ranking[data$ranking$second == "1", ])
, nrow(data$ranking[data$ranking$third == "1", ])
, nrow(data$ranking[data$ranking$fourth == "1", ])
, nrow(data$ranking[data$ranking$fifth == "1", ]) ))
plot(1:5,
c(nrow(data$ranking[data$ranking$first == "1", ])
, nrow(data$ranking[data$ranking$second == "1", ])
, nrow(data$ranking[data$ranking$third == "1", ])
, nrow(data$ranking[data$ranking$fourth == "1", ])
, nrow(data$ranking[data$ranking$fifth == "1", ]) ), main = "coincidences correct word-definition")
plot(1:5,
c(nrow(data$ranking[data$ranking$first == "1", ])
, nrow(data$ranking[data$ranking$second == "1", ])
, nrow(data$ranking[data$ranking$third == "1", ])
, nrow(data$ranking[data$ranking$fourth == "1", ])
, nrow(data$ranking[data$ranking$fifth == "1", ]) ), main = "coincidences correct word-definition", xlab = "position", ylab ="coincidences")
rownames(median) <- rownames(ranking)
colnames(median) <- colnames(data$ranking)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 'h', 'l') })
head(data$median)
nrow(data$median)
sapply(1:nrow(data$median), function(r){r})
sapply(1:nrow(data$median), function(r){data$median[r , ]})
sapply(1:nrow(data$median), function(r){if(data$median[r , ] == "h")})
sapply(1:nrow(data$median), function(r){if(data$median[r , ] == "h"){data$median[r , ]}})
rep("h", 1:5)
rep("h", 5)
sapply(1:nrow(data$median), function(r){if(data$median[r , ] == rep("h", 5)){data$median[r , ]}})
data$median[data$median[r , ] == rep("h", 5) , ]
data$median[data$median[r , ] == rep("h", 5) ]
data$median[data$median[ , ] == rep("h", 5) ]
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 'h', 'l') })
head(data$median)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
head(data$median)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
rownames(data$medianmedian) <- rownames(data$ranking)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$medianmedian) <- colnames(data$ranking)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
head(data$median)
nrow(data$median)
dim(data$median)
sapply(1:nrow(data$median), function(r){if(data$median[r , ] == rep("h", 5)){data$median[r , ]}})
dim(data$median)
sapply(1:nrow(data$median), sum)
apply(data$median, 1, sum)
which(apply(data$median, 1, sum) == 5)
apply(data$median, 1, sum)
c(apply(data$median, 1, sum) == 5)
apply(data$median, 1, sum)
freq_h <- c(apply(data$median, 1, sum) == 5)
freq_h
freq_h <- which(c(apply(data$median, 1, sum) == 5) == TRUE)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_h
head(data$median)
head(data$median, 20)
freq_h <- data$median[which(c(apply(data$median, 1, sum) == 5)), ]
freq_h
which(c(apply(data$median, 1, sum) == 5))
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
freq_l
apply(data$median, 1, sum)
which(c(apply(data$median, 1, sum) == 5))
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_h
freq_l <- which(c(apply(data$median, 1, sum) == 0))
data$median[freq_h, ]
dim(data$median[freq_h, ])
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
dim(data$median[freq_h, ])
dim(data$median[freq_l, ])
#### using data.table
class(data$median)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
head(data$median)
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
dim(data$median[freq_h, ])
dim(data$median[freq_l, ])
#### using data.table
class(data$median)
class(data$ranking)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
rownames(data$median) <- rownames(data$ranking)
head(data$median)
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
head(data$median)
class(data$ranking)
class(data$median)
data$median <- as.data.frame(data$median)
head(data$median)
class(data$median)
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
dim(data$median[freq_h, ])
dim(data$median[freq_l, ])
#### using data.table
class(data$median)
data$median <- as.data.table(data$median)
head(data$median)
class(data$median)
data$median[ , .(suma := apply(data$median, 1, sum)), ]
data$median[ , suma := apply(data$median, 1, sum), ]
data$median
data$median[ , {suma = apply(data$median, 1, sum)}, ]
data$median[ , {suma = apply(data$median, 1, sum); suma2 = suma*2}, ]
data$median[ , {suma := apply(data$median, 1, sum); suma2 := suma*2}, ]
data$median[ , {suma = apply(data$median, 1, sum); suma2 = suma*2}, with = FALSE]
data$median[ , suma := apply(data$median, 1, sum),]
#### using data.table
class(data$median)
data$median[ , suma := apply(data$median, 1, sum),]
data$median[ , {suma1 = suma
suma2 = suma1*2},]
data$median
data$median[ , {suma1 = suma
suma2 = suma1*2}, ]
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
data$median <- as.data.table(data$median)
head(data$median)
class(data$median)
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
dim(data$median[freq_h, ])
dim(data$median[freq_l, ])
data$median[ , suma := apply(data$median, 2, sum),]
data$median[ , suma := apply(data$median, 1, sum),]
data
data$median
data$median[ , {suma1 = suma
suma2 := suma1*2}, ]
data$median[ , suma1 := {suma1 = suma
suma2 = suma1*2}, ]
data$median
data$median[ , suma := apply(data$median, 1, sum),]
data$median
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
data$median <- as.data.table(data$median)
head(data$median)
class(data$median)
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
dim(data$median[freq_h, ])
dim(data$median[freq_l, ])
#### using data.table
class(data$median)
data$median[ , suma := apply(data$median, 1, sum),]
data$median
data$median[ , suma1 := {suma1 = suma
suma2 = suma1*2}, ]
data$median
data$median[ , -c(6,7)]
head(data$median)
data$median <- data$median[ , -c(6,7)]
head(data$median)
data$median[ suma == 5, .(suma = apply(data$median, 1, sum)),]
data$median[ , .(suma := apply(data$median, 1, sum)),]
data$median[ , .(suma = apply(data$median, 1, sum)),]
data$median[ , .(list(colnames(data$median)), suma = apply(data$median, 1, sum)),]
data$median
data$median[ , .(colnames(data$median), suma = apply(data$median, 1, sum)),]
data$median[ , suma := apply(data$median, 1, sum),]
data$median
data$median[ , suma := apply(data$median, 1, sum),][ , colnames(data$ranking), with = FALSE]
data$median
data$median <- data$median[ , 1:5, with = FALSE]
data$median
head(data$median)
data$median[ , suma := apply(data$median, 1, sum),][ , colnames(data$ranking), with = FALSE]
data$median
library(ff)
install.packages("ff")
library(ff)
knitr::opts_chunk$set(echo = TRUE)
library(data.table)
####
#### ...variables definition...
FILE_RDS_W1_SIM_PROCESSED <- "C:/sc-sync/projects/proj-nlp/data/output/w1_sim_processed.rds"
data <- readRDS(FILE_RDS_W1_SIM_PROCESSED)
data$ranking <- as.data.frame(data$ranking)
data$scores <- as.data.frame(data$scores)
head(data$ranking)
head(data$scores)
dim(data$scores)
hist(data$scores$second)
plot(1:5,
c(nrow(data$ranking[data$ranking$first == "1", ])
, nrow(data$ranking[data$ranking$second == "1", ])
, nrow(data$ranking[data$ranking$third == "1", ])
, nrow(data$ranking[data$ranking$fourth == "1", ])
, nrow(data$ranking[data$ranking$fifth == "1", ]) ), main = "coincidences correct word-definition", xlab = "position", ylab ="coincidences")
####
#### ...dataset coding cases > or < than median...
data$median <- sapply(1:ncol(data$scores), function(c){ ifelse(data$scores[ , c] > median(data$scores[ , c]), 1, 0) })
colnames(data$median) <- colnames(data$ranking)
colnames(data$median) <- colnames(data$ranking)
rownames(data$median) <- rownames(data$ranking)
data$median <- as.data.table(data$median)
head(data$median)
class(data$median)
dim(data$median)
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_h
freq_l <- which(c(apply(data$median, 1, sum) == 0))
#### we compute the number of words with top-5 definitions > and < than similarity median
freq_h <- which(c(apply(data$median, 1, sum) == 5))
freq_l <- which(c(apply(data$median, 1, sum) == 0))
dim(data$median)
dim(data$median[freq_h, ])
dim(data$median)
dim(data$median[freq_h, ])[1]/dim(data$median)[1]
dim(data$median[freq_l, ])[1]/dim(data$median)[1]
dim(data$median)
#### percentages of words with top-5 similariest definitions more (or no more) than median
dim(data$median[freq_h, ])[1]/dim(data$median)[1]
dim(data$median[freq_l, ])[1]/dim(data$median)[1]
